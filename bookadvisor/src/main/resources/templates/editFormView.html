<!DOCTYPE html>
<html lang="es" xmlns:th="https://thymeleaf.org">
<html lang="es" xmlns:sec="https://thymeleaf.org/thymeleaf-extras-springsecurity">
    
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Agregar Libro</title>
    <link href="/webjars/bootstrap/5.1.3/css/bootstrap.min.css" rel="stylesheet">

</head>

<body>
    <nav th:replace="~{/fragments/navBar.html::navegacion}"></nav>
    <div class="container mt-5">
        <h1 class="mb-4">Nuevo Libro</h1>
        <form class="needs-validation" method="post" th:action="@{/libro/editar/{id}/submit(id=${libroForm.id})}" th:object="${libroForm}"
            enctype="multipart/form-data" novalidate>
            <!-- <div class="mb-3">
                <label for="id" class="form-label">Id:</label>
                <input type="text" id="id" class="form-control" th:field="*{id}" placeholder="1" required />
                <div class="invalid-feedback">Por favor, ingrese un ID válido.</div>
            </div> -->
            <div class="mb-3">
                <label for="nombre" class="form-label">Titulo:</label>
                <input type="text" id="titulo" class="form-control" th:field="*{titulo}" placeholder="el principito" required />
                <div class="invalid-feedback">Por favor, ingrese el titulo del libro.</div>
            </div>
            <div class="form-group">
                <label for="año">Año:</label>
                <input type="date" class="form-control" id="año" th:field="*{año}" />
            </div>
            <div class="mb-3">
                <label for="text" class="form-label">Autor:</label>
                <input type="text" id="autor" class="form-control" th:field="*{autor}" placeholder="Arturo Perez Reverte" required />
                <div class="invalid-feedback">Por favor, ingrese el autor correcto.</div>
            </div>
            <div class="mb-3">
                <label for="sinopsis" class="form-label">Sinopsis:</label>
                <input type="text" id="sinopsis" class="form-control" th:field="*{sinopsis}" placeholder="Cuando Emma encuentra un misterioso reloj en el desván de su abuela, descubre que puede viajar al pasado.." required />
                <div class="invalid-feedback">Por favor, ingrese la sinopsis del libro.</div>
            </div>
            <div class="mb-3">
                <label for="idioma" class="form-label">Idioma:</label>
                <select id="idioma" name="idioma" class="form-select" th:field="*{idioma}" required>
                    <option value="" disabled selected>Seleccione un idioma</option>
                    <option th:each="idi : ${T(bookadvisor.bookadvisor.domain.Idioma).values()}" 
                            th:value="${idi}" 
                            th:text="${idi}"></option>
                </select>
                <div class="invalid-feedback">Por favor, seleccione un idioma.</div>
            </div>
            <div class="mb-3">
                <div class="form-group">
                    <label for="genero">Género:</label>
                    <select class="form-control" id="genero" th:field="*{genero.id}">
                      <option value="" disabled selected>Selecciona un género</option>
                      <option th:each="gen : ${listaGeneros}" th:value="${gen.id}" th:text="${gen.nombre}"></option>
                    </select>
                  </div>

            <div class="mb-3">
                <label for="fotoPortada" class="form-label">Foto de la Portada:</label>
                <input type="file" id="portada" name="portada" class="form-control"  />
                <div class="invalid-feedback">Por favor, sube una foto de la portada.</div>
            </div>

            <!-- <div>
                <label>Adjuntar un fichero:<input type="file" name="file" accept="image/*"/></label><br/>
            </div> -->
            <button type="submit" class="btn btn-primary">Enviar</button>
        </form>
        <a th:href="@{/libro/list}" class="btn btn-link mt-3">Inicio</a>
    </div>

</body>


</html>